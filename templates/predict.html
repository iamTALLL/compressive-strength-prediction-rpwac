<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict - Predict Concrete Compressive Strength</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Roboto:wght@100;300;400;700&family=Open+Sans:wght@600&display=swap" rel="stylesheet">
</head>
<body class="predict-page">
    {% include 'navbar.html' %}
    <div class="main-container">
        <div class="left-section">
            <div class="model-overview">
                <h2>Model Overview</h2>
                <p>Machine Learning can accurately predict the compressive strength of concrete incorporating recycled plastic aggregates under laboratory conditions. The XGBoost model combined with the ZOA optimization algorithm achieves over 90% accuracy, demonstrating strong capability in predicting the mechanical properties of concrete with complex and nonlinear input variables.</p>
            </div>
        </div>
        <div class="right-section">
            <form method="POST" novalidate>
                <div>
                    <label for="cement_dosage" title="Amount of cement, in kilograms, used in a unit volume of the concrete mix (usually 1 m³). This is a key factor affecting the strength and properties of concrete.">Cement dosage (c_d) (kg):</label>
                    <input type="number" id="cement_dosage" name="cement_dosage" step="any" title="Please enter a non-negative number (e.g., 0 or 540.5)." required>
                </div>
                <div>
                    <label for="cement_compressive_strength" title="Compressive strength of cement, measured in megapascals (MPa). This indicates the cement's ability to withstand compressive forces after setting, typically determined at 28 days.">Cement compressive strength (ce_cs) (MPa):</label>
                    <input type="number" id="cement_compressive_strength" name="cement_compressive_strength" step="any" title="Please enter a non-negative number (e.g., 0 or 50.2)." required>
                </div>
                <div>
                    <label for="cement_specific_gravity" title="Specific gravity of cement, measured in grams per cm³. This is the density of cement, typically ranging from 3.0 to 3.15 g/cm³, used to calculate the volume of cement in the mix.">Cement specific gravity (ce_sg) (g/cm³):</label>
                    <input type="number" id="cement_specific_gravity" name="cement_specific_gravity" step="any" title="Please enter a non-negative number (e.g., 0 or 3.15)." required>
                </div>
                <div>
                    <label for="fine_aggregate_quantity" title="Amount of fine aggregate (e.g., sand), in kilograms, used in the concrete mix. Fine aggregate fills voids and enhances the workability of concrete.">Fine aggregate quantity (f_q) (kg):</label>
                    <input type="number" id="fine_aggregate_quantity" name="fine_aggregate_quantity" step="any" title="Please enter a non-negative number (e.g., 0 or 676.0)." required>
                </div>
                <div>
                    <label for="fine_aggregate_specific_gravity" title="Specific gravity of fine aggregate, measured in grams per cm³. This indicates the density of sand, typically around 2.6 to 2.7 g/cm³, used to calculate mix proportions.">Fine aggregate specific gravity (f_sg) (g/cm³):</label>
                    <input type="number" id="fine_aggregate_specific_gravity" name="fine_aggregate_specific_gravity" step="any" title="Please enter a non-negative number (e.g., 0 or 2.65)." required>
                </div>
                <div>
                    <label for="coarse_aggregate_quantity" title="Amount of coarse aggregate (e.g., gravel or stone), in kilograms, used in the concrete mix. Coarse aggregate provides structure and strength to concrete.">Coarse aggregate quantity (c_q) (kg):</label>
                    <input type="number" id="coarse_aggregate_quantity" name="coarse_aggregate_quantity" step="any" title="Please enter a non-negative number (e.g., 0 or 1040.0)." required>
                </div>
                <div>
                    <label for="coarse_aggregate_specific_gravity" title="Specific gravity of coarse aggregate, measured in grams per cm³. This value, typically around 2.6 to 2.8 g/cm³, determines the density of gravel or stone in the mix.">Coarse aggregate specific gravity (ca_sg) (g/cm³):</label>
                    <input type="number" id="coarse_aggregate_specific_gravity" name="coarse_aggregate_specific_gravity" step="any" title="Please enter a non-negative number (e.g., 0 or 2.7)." required>
                </div>
                <div>
                    <label for="water" title="Amount of water, in kilograms, used in the concrete mix. Water is essential for cement hydration and to provide workability to the mix.">Water (w) (kg):</label>
                    <input type="number" id="water" name="water" step="any" title="Please enter a non-negative number (e.g., 0 or 162.0)." required>
                </div>
                <div>
                    <label for="water_cement_ratio" title="Water-to-cement ratio, the ratio of water mass to cement mass in the mix. This ratio significantly affects the strength and durability of concrete (lower ratios typically result in stronger concrete).">Water/cement ratio (w/c):</label>
                    <input type="number" id="water_cement_ratio" name="water_cement_ratio" step="any" title="Please enter a non-negative number (e.g., 0 or 0.3)." required>
                </div>
                <div>
                    <label for="plastic_quantity" title="Amount of plasticizer (superplasticizer), in kilograms, added to the concrete mix. Plasticizers improve workability without increasing water content.">Plastic quantity (p_q) (kg):</label>
                    <input type="number" id="plastic_quantity" name="plastic_quantity" step="any" title="Please enter a non-negative number (e.g., 0 or 2.5)." required>
                </div>
                <div>
                    <label for="plastic_tensile_strength" title="Tensile strength of the plasticizer, measured in megapascals (MPa). This indicates the plasticizer's ability to withstand tensile forces, if relevant to the concrete structure.">Plastic tensile strength (p_ts) (MPa):</label>
                    <input type="number" id="plastic_tensile_strength" name="plastic_tensile_strength" step="any" title="Please enter a non-negative number (e.g., 0 or 10.0)." required>
                </div>
                <div>
                    <label for="plastic_specific_gravity" title="Specific gravity of the plasticizer, measured in grams per cm³. This value determines the volume of the plasticizer in the mix.">Plastic specific gravity (p_sg) (g/cm³):</label>
                    <input type="number" id="plastic_specific_gravity" name="plastic_specific_gravity" step="any" title="Please enter a non-negative number (e.g., 0 or 1.08)." required>
                </div>
                <div>
                    <label for="slump" title="Slump, measured in centimeters, is an indicator of the workability (flowability) of fresh concrete. Higher slump values indicate easier workability but may affect strength.">Slump (slump) (cm):</label>
                    <input type="number" id="slump" name="slump" step="any" title="Please enter a non-negative number (e.g., 0 or 10.0)." required>
                </div>
                <div>
                    <label for="concrete_specific_gravity" title="Specific gravity of concrete, the density of the concrete mix, measured in kg/m³, typically ranging from 2200 to 2500 kg/m³.">Concrete specific gravity (c_sg) (kg/m³):</label>
                    <input type="number" id="concrete_specific_gravity" name="concrete_specific_gravity" step="any" title="Please enter a non-negative number (e.g., 0 or 2400.0)." required>
                </div>
                <button type="submit">PREDICT</button>
                <div class="button-error"></div>
                {% if error %}
                <div class="error">{{ error }}</div>
                {% endif %}
                {% if prediction is not none %}
                <div class="result">
                    Predicted Concrete Compressive Strength (c_cs): <span>{{ prediction | round(2) }}</span> MPa
                </div>
                {% endif %}

                
            </form>

            <div class="csv-upload-section">
                <h3>Or Batch Predict from CSV</h3>
                <form method="POST" action="{{ url_for('predict_csv') }}" enctype="multipart/form-data">
                    <input type="file" name="file" accept=".csv" required>
                    <button type="submit">UPLOAD & PREDICT CSV</button>
                </form>
                {% if predictions %}
                <h4>Batch Predictions:</h4>
                <div class="csv-results">
                    {{ predictions | safe }}
                </div>
                {% endif %}
                {% if error %}
                <div class="error">{{ error }}</div>
                {% endif %}
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>